<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hex</title>
    <script type="text/javascript">
        function makeSvgElement(tag, attrs) {
            var el = document.createElementNS('http://www.w3.org/2000/svg', tag);
            for (var k in attrs) {
                el.setAttribute(k, attrs[k]);
            }
            return el;
        }

        /*function drawHexagon(svgElement, x, y, r, options) {
            var sin60r = 0.866 * r;
            var halfr = r >> 1;

            var x1 = x + r;
            var y1 = y;
            var x2 = x + halfr;
            var y2 = y - sin60r;
            var x3 = x - halfr;
            var y3 = y - sin60r;
            var x4 = x - r;
            var y4 = y;
            var x5 = x - halfr;
            var y5 = y + sin60r;
            var x6 = x + halfr;
            var y6 = y + sin60r;

            var points = x1 + "," + y1 + " "
                    + x2 + "," + y2 + " "
                    + x3 + "," + y3 + " "
                    + x4 + "," + y4 + " "
                    + x5 + "," + y5 + " "
                    + x6 + "," + y6;

            var polygonAttrs = {
                points: points,
                //transform: 'rotate(-30)'
            };

            if (options && options.default) {
                for (var k in options.default) {
                    polygonAttrs[k] = options.default[k];
                }
            }

            var g = makeSvgElement("g");
            var p = makeSvgElement('polygon', polygonAttrs);
            g.appendChild(p);
            svgElement.appendChild(g);
        }*/

        function drawHexagon(svgElement, x, y, r, options) {
            var sin60r = 0.866 * r;
            var halfr = r >> 1;

            var x1 = x;
            var y1 = y - r;
            var x2 = x + sin60r;
            var y2 = y - halfr;
            var x3 = x + sin60r;
            var y3 = y + halfr;
            var x4 = x;
            var y4 = y + r;
            var x5 = x - sin60r;
            var y5 = y + halfr;
            var x6 = x - sin60r;
            var y6 = y - halfr;

            var points = x1 + "," + y1 + " "
                    + x2 + "," + y2 + " "
                    + x3 + "," + y3 + " "
                    + x4 + "," + y4 + " "
                    + x5 + "," + y5 + " "
                    + x6 + "," + y6;

            var polygonAttrs = {
                points: points
            };

            if (options && options.default) {
                for (var k in options.default) {
                    polygonAttrs[k] = options.default[k];
                }
            }

            var g = makeSvgElement("g");
            var p = makeSvgElement('polygon', polygonAttrs);
            g.appendChild(p);
            svgElement.appendChild(g);
        }

        function drawHexagonNet(svgElement, x0, y0, r, nX, nY, options) {
            var r2 = r << 1;
            var halfr = r >> 1;
            var sin60r = 0.866 * r;

            var shiftRight = 0;
            for (var j=0; j<nY; j++) {
                var y = y0 + ((r+halfr) * j);
                if (j % 2 == 0) {
                    shiftRight = 0;
                }
                else {
                    shiftRight = sin60r;
                }

                for (var i=0; i<nX; i++) {
                    var x = x0 + ((0.866*r2) * i);
                    drawHexagon(svgElement, x +  shiftRight, y, r, options);
                }
            }
        }

        function init() {
            var defaultOptions = {
                default: {
                    stroke: "brown",
                    fill: "gold"
                }
            };

            drawHexagonNet(document.getElementById('svgPanel'), 0, 20, 25, 80, 60, defaultOptions);
        }


    </script>
</head>
<body onload="javascript:init();">

<svg id="svgPanel" width="1600" height="1200" >



</svg>

</body>
</html>